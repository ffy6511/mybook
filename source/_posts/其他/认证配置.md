---
title: åè®®åˆ‡æ¢ä¸è®¤è¯é…ç½®
date: 2025-01-18 12:47:21
tags: 
- æœåŠ¡å™¨
- PAT
categories: é€šç”¨æŠ€èƒ½
excerpt: å·²ç»ä¸ºæœåŠ¡å™¨é…ç½®äº†ä»£ç†è¿˜æ˜¯åœ¨åˆæ¬¡pushæ—¶æ˜¾ç¤º Connection timed out?ğŸ˜± ä¸è¦æ€¥, å¯èƒ½éœ€è¦åœ¨SSHä¸Httpsåè®®ä¹‹é—´è¿›è¡Œåˆ‡æ¢~
index_img: /img/å“­å“­å¸•å…‹.jpg
---
# Git è¿œç¨‹ä»“åº“è®¤è¯ï¼šä» SSH åˆ° HTTPS

## èƒŒæ™¯ä»‹ç»
åœ¨ä½¿ç”¨ Git è¿›è¡Œç‰ˆæœ¬æ§åˆ¶æ—¶ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦åœ¨ SSH å’Œ HTTPS ä¸¤ç§åè®®ä¹‹é—´è¿›è¡Œåˆ‡æ¢ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»è¿™ä¸¤ç§è®¤è¯æ–¹å¼çš„ç‰¹ç‚¹ã€è½¬æ¢æ–¹æ³•ä»¥åŠç›¸å…³çš„å¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆã€‚

## è®¤è¯æœºåˆ¶è§£æ

### åŒå±‚è®¤è¯æ¶æ„
1. **æœåŠ¡å™¨å±‚è®¤è¯**
   - ç”¨äºéªŒè¯ç”¨æˆ·å¯¹æœåŠ¡å™¨çš„è®¿é—®æƒé™
   - é€šå¸¸é€šè¿‡ SSH å¯†é’¥æˆ–å¯†ç å®Œæˆ

2. **ä»“åº“å±‚è®¤è¯**
   - éªŒè¯ç”¨æˆ·å¯¹ç‰¹å®š Git ä»“åº“çš„æ“ä½œæƒé™
   - ç‹¬ç«‹äºæœåŠ¡å™¨è®¤è¯ç³»ç»Ÿ
   - ç¡®ä¿ä»£ç å®‰å…¨æ€§å’Œæäº¤è€…èº«ä»½

### SSH vs HTTPS 


1. **SSH åè®®**
   - ä¼˜åŠ¿ï¼š
     - æ›´å®‰å…¨ï¼Œä½¿ç”¨å¯†é’¥å¯¹è¿›è¡ŒåŠ å¯†
     - é…ç½®ä¸€æ¬¡å¯æ°¸ä¹…ä½¿ç”¨
     - å¯ä»¥é¿å…æ¯æ¬¡è¾“å…¥å¯†ç 
   - åŠ£åŠ¿ï¼š
     - å¯èƒ½è¢«é˜²ç«å¢™é˜»æ­¢ï¼ˆ22ç«¯å£ï¼‰
     - åœ¨æŸäº›ä¼ä¸šç½‘ç»œä¸­å¯èƒ½æ— æ³•ä½¿ç”¨
     - é…ç½®ç›¸å¯¹å¤æ‚

2. **HTTPS åè®®**
   - ä¼˜åŠ¿ï¼š
     - å‡ ä¹æ€»æ˜¯å¯ç”¨ï¼ˆ443ç«¯å£ï¼‰
     - ç©¿é€é˜²ç«å¢™èƒ½åŠ›å¼º
     - é…ç½®ç®€å•
   - åŠ£åŠ¿ï¼š
     - éœ€è¦ç®¡ç†å‡­è¯
     - å¯èƒ½éœ€è¦é¢‘ç¹è¾“å…¥è®¤è¯ä¿¡æ¯

## è¿æ¥é—®é¢˜åˆ†æ

### SSH è¶…æ—¶é—®é¢˜è§£æ
SSH è¿æ¥å¯èƒ½å‡ºç°è¶…æ—¶çš„åŸå› ï¼š
1. **ç½‘ç»œé™åˆ¶**
   - ä¼ä¸šé˜²ç«å¢™å¯èƒ½ä¼šé˜»æ­¢æˆ–é™åˆ¶ SSH è¿æ¥
   - æŸäº›ç½‘ç»œç¯å¢ƒä¼šå®šæœŸåˆ‡æ–­é•¿æ—¶é—´çš„ SSH è¿æ¥

2. **ä»£ç†å½±å“**
   - SSH ä¸ä¼šè‡ªåŠ¨ä½¿ç”¨ç³»ç»Ÿä»£ç†
   - éœ€è¦é¢å¤–é…ç½® SSH çš„ä»£ç†è®¾ç½®

3. **é˜²ç«å¢™ç­–ç•¥**
   - 22 ç«¯å£ç»å¸¸è¢«å°é”
   - æŸäº›åœ°åŒºå¯èƒ½é™åˆ¶ SSH åè®®

### HTTPS è¿æ¥ä¼˜åŠ¿
1. **æ ‡å‡† Web ç«¯å£**
   - ä½¿ç”¨ 443 ç«¯å£ï¼Œå‡ ä¹æ€»æ˜¯å¼€æ”¾çš„
   - ä¸æ™®é€šç½‘é¡µæµè§ˆä½¿ç”¨ç›¸åŒçš„ç«¯å£

2. **ä»£ç†å…¼å®¹**
   - è‡ªåŠ¨ä½¿ç”¨ç³»ç»Ÿä»£ç†è®¾ç½®
   - æ›´å¥½çš„ç½‘ç»œå…¼å®¹æ€§

3. **è¿æ¥ç‰¹æ€§**
   - éæŒä¹…è¿æ¥ï¼Œæ¯æ¬¡è¯·æ±‚ç‹¬ç«‹
   - ä¸å—é•¿è¿æ¥é™åˆ¶å½±å“

## åè®®è½¬æ¢å®è·µ
åœ¨å°è¯•ç›´æ¥`git push`æ—¶æ˜¾ç¤º:
![](/img/2025-01-18-12-58-38.png)
é€šè¿‡æ‰§è¡Œå‘½ä»¤`git remote -v`æŸ¥çœ‹å½“å‰è¿œç¨‹ä»“åº“çš„åœ°å€:
![](/img/2025-01-18-13-01-29.png)
> `git@`çš„å‰ç¼€æ ¼å¼è¯´æ˜æ˜¯é€šè¿‡`ssh`çš„æ–¹å¼, æˆ‘ä»¬å°è¯•ä¿®æ”¹ä¸º`https`çš„åè®®æ¥è§£å†³è¶…æ—¶é—®é¢˜.

æ›´æ–°ä»“åº“çš„URL:
```bash
git remote set-url origin https://github.com/ç”¨æˆ·å/ä»“åº“å.git
```
e.g.: 
![](/img/2025-01-18-13-03-21.png)
> åœ¨æ›´æ–°ä¹‹åæ‰§è¡Œ`get remote -v`, æ£€æŸ¥å‘ç°å·²ç»è½¬æ¢ä¸º`HTTPS`.


### é…ç½®å‡­è¯ç®¡ç†
æ­¤æ—¶ä¾æ—§æ— æ³•ç›´æ¥`git push`, å› ä¸ºä»“åº“å±‚è®¤è¯çš„å¯†ç éªŒè¯æ–¹å¼å·²ç»ä¸å—`github`æ”¯æŒ, å¦‚æœå°è¯•é€šè¿‡ç”¨æˆ·å-å¯†ç çš„æ–¹å¼éªŒè¯, å°†ä¼šå¤±è´¥:
![](/img/2025-01-18-13-09-11.png)

å› æ­¤æˆ‘ä»¬éœ€è¦é€šè¿‡ **ä¸ªäººè®¿é—®ä»¤ç‰Œ**(PAT) çš„æ–¹å¼æ¥é‰´æƒ.
1. **é…ç½®å‡­è¯ç®¡ç†:**
```bash
# æ°¸ä¹…å­˜å‚¨å‡­è¯
git config --global credential.helper store

# æˆ–ä¸´æ—¶ç¼“å­˜ï¼ˆå¦‚15åˆ†é’Ÿï¼‰
git config --global credential.helper 'cache --timeout=900'
```
> å¦‚æœä¸å¸Œæœ›å½±å“å…¶ä»–ä»“åº“, å»é™¤`--global`å³å¯.

2. **è·å–PAT**:
   1. è®¿é—® GitHub Settings;
   2. ä¸‹æ»‘åˆ°åº•éƒ¨,è¿›å…¥ `Developer settings`;
   3. é€‰æ‹© `Personal access tokens` â†’ `Tokens (classic)`;
   4. åœ¨å³ä¸Šè§’é€‰æ‹©ç”Ÿæˆæ–°çš„`access token`;
   5. ç”Ÿæˆæ–°ä»¤ç‰Œå¹¶è®¾ç½®é€‚å½“çš„æƒé™èŒƒå›´ (è‡³å°‘å‹¾é€‰`repo`).
![](/img/2025-01-18-13-15-38.png)
> åœ¨ç”ŸæˆPATä¹‹åç«‹å³å¤åˆ¶å¹¶ä¿å­˜.


### é€šè¿‡PATé‰´æƒ
æ­¤æ—¶, æˆ‘ä»¬å¯ä»¥`git push`ç„¶ååˆ©ç”¨PATæ¥é‰´æƒ:
```bash
git push
Username: <GitHubç”¨æˆ·å>
Password: <ä¸ªäººè®¿é—®ä»¤ç‰Œ>
```
e.g.
![](/img/2025-01-18-13-23-22.png)

## å®‰å…¨ç›¸å…³å»ºè®®

### å‡­è¯ç®¡ç†
1. **å‡­è¯å­˜å‚¨ä½ç½®**
   - Linux/Mac: `~/.git-credentials`
   - Windows: `%USERPROFILE%\.git-credentials`

2. **å®‰å…¨å»ºè®®**
   - å®šæœŸæ›´æ–°è®¿é—®ä»¤ç‰Œ
   - åœ¨å…±äº«ç¯å¢ƒä½¿ç”¨ä¸´æ—¶ç¼“å­˜
   - åŠæ—¶æ¸…ç†å‡­è¯ç¼“å­˜

### æ•…éšœæ’é™¤
```bash
# åˆ é™¤å…¨å±€å‡­è¯é…ç½®
git config --global --unset credential.helper

# åˆ é™¤å‡­è¯æ–‡ä»¶
rm ~/.git-credentials  # Linux/Mac
del "%USERPROFILE%\.git-credentials"  # Windows
```
